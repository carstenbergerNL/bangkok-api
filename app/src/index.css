@tailwind base;
@tailwind components;
@tailwind utilities;

/* Microsoft portal / Fluent-inspired: 4â€“8px grid, Segoe UI, #f3f2f1 background */

:root {
  --card-header-color: #323130;
  --card-description-color: #605e5c;
}

@layer base {
  html {
    @apply antialiased;
  }
  body {
    font-family: "Segoe UI", "Segoe UI Web (West European)", Segoe UI, -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif;
    @apply text-[15px] leading-normal transition-colors duration-200;
    color: #323130;
    background-color: #f3f2f1;
  }
  .dark body {
    color: #f3f2f1;
    background-color: #201f1e;
  }
  /* Fluent dark theme variables for layout and cards */
  .dark {
    --topbar-bg: #292827;
    --topbar-border: #3b3a39;
    --topbar-text: #f3f2f1;
    --sidebar-bg: #252423;
    --sidebar-border: #3b3a39;
    --dropdown-bg: #292827;
    --dropdown-border: #3b3a39;
    --dropdown-text: #f3f2f1;
    --card-header-color: #f3f2f1;
    --card-description-color: #c8c6c4;
  }
}

@layer components {
  /* Main content area - Fluent gray14 */
  .app-bg {
    background-color: #f3f2f1;
  }
  .dark .app-bg {
    background-color: #201f1e;
  }
  .main-content-bg {
    background-color: #f3f2f1;
  }
  .dark .main-content-bg {
    background-color: #201f1e;
  }

  /* Page header - clear hierarchy */
  .page-header {
    @apply mb-6;
  }
  .page-header h1 {
    @apply text-2xl font-semibold tracking-tight;
    color: #323130;
    letter-spacing: -0.01em;
  }
  .dark .page-header h1 {
    color: #f3f2f1;
  }
  .page-header p {
    @apply mt-1 text-sm;
    color: #605e5c;
  }
  .dark .page-header p {
    color: #c8c6c4;
  }

  /* Cards - white surface, subtle border, minimal shadow */
  .card {
    background-color: #ffffff;
    border: 1px solid #edebe9;
    border-radius: 4px;
    box-shadow: 0 1.6px 3.6px 0 rgba(0, 0, 0, 0.132), 0 0.3px 0.9px 0 rgba(0, 0, 0, 0.108);
  }
  .dark .card {
    background-color: #292827;
    border-color: #3b3a39;
    box-shadow: 0 1.6px 3.6px 0 rgba(0, 0, 0, 0.3);
  }
  .card-body {
    @apply p-6;
  }
  .card-header {
    @apply mb-1 text-base font-semibold;
    color: #323130;
  }
  .dark .card-header {
    color: #f3f2f1;
  }
  .card-description {
    @apply text-sm;
    color: #605e5c;
  }
  .dark .card-description {
    color: #c8c6c4;
  }

  /* Buttons - primary Microsoft blue */
  .btn {
    @apply inline-flex items-center justify-center font-medium transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none;
    border-radius: 4px;
  }
  .btn-primary {
    @apply btn px-4 py-2 text-sm text-white;
    background-color: #0078d4;
  }
  .btn-primary:hover:not(:disabled) {
    background-color: #106ebe;
  }
  .btn-primary:focus-visible {
    @apply ring-offset-2;
    --tw-ring-color: #0078d4;
  }
  .btn-secondary {
    @apply btn px-4 py-2 text-sm border;
    background-color: #ffffff;
    color: #323130;
    border-color: #8a8886;
  }
  .btn-secondary:hover:not(:disabled) {
    background-color: #f3f2f1;
  }
  .dark .btn-secondary {
    background-color: #292827;
    color: #f3f2f1;
    border-color: #3b3a39;
  }
  .dark .btn-secondary:hover:not(:disabled) {
    background-color: #3b3a39;
  }
  .btn-ghost {
    @apply btn px-4 py-2 text-sm;
    color: #323130;
  }
  .btn-ghost:hover:not(:disabled) {
    background-color: #f3f2f1;
  }
  .dark .btn-ghost {
    color: #f3f2f1;
  }
  .dark .btn-ghost:hover:not(:disabled) {
    background-color: #3b3a39;
  }
  .btn-danger {
    @apply btn px-4 py-2 text-sm text-white;
    background-color: #a4262c;
  }
  .btn-danger:hover:not(:disabled) {
    background-color: #8b1d22;
  }
  .btn-icon {
    @apply btn p-2 rounded;
    color: #605e5c;
  }
  .btn-icon:hover:not(:disabled) {
    background-color: #f3f2f1;
    color: #323130;
  }
  .dark .btn-icon {
    color: #c8c6c4;
  }
  .dark .btn-icon:hover:not(:disabled) {
    background-color: #3b3a39;
    color: #f3f2f1;
  }

  /* Form inputs - clean, 2px radius, clear focus */
  .input {
    @apply w-full px-3 py-2 text-[15px] transition-colors duration-150 focus:outline-none focus:ring-2;
    border: 1px solid #8a8886;
    border-radius: 2px;
    background-color: #ffffff;
    color: #323130;
  }
  .input::placeholder {
    color: #605e5c;
  }
  .input:focus {
    border-color: #0078d4;
    --tw-ring-color: rgba(0, 120, 212, 0.3);
  }
  .dark .input {
    background-color: #292827;
    border-color: #3b3a39;
    color: #f3f2f1;
  }
  .dark .input:focus {
    border-color: #0078d4;
  }
  .input-label {
    @apply block text-sm font-medium mb-1;
    color: #323130;
  }
  .dark .input-label {
    color: #f3f2f1;
  }
  .form-group {
    @apply mb-4;
  }

  /* Tables - segmented, subtle dividers */
  .table-container {
    @apply overflow-x-auto -mx-6 sm:mx-0;
  }
  .table-grid {
    @apply w-full text-sm border-collapse;
  }
  .table-grid thead tr {
    border-bottom: 1px solid #edebe9;
    background-color: #faf9f8;
  }
  .dark .table-grid thead tr {
    border-bottom-color: #3b3a39;
    background-color: #252423;
  }
  .table-grid th {
    @apply px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider;
    color: #605e5c;
  }
  .dark .table-grid th {
    color: #c8c6c4;
  }
  .table-grid tbody tr {
    border-bottom: 1px solid #edebe9;
  }
  .table-grid tbody tr:hover {
    background-color: #f3f2f1;
  }
  .dark .table-grid tbody tr {
    border-bottom-color: #3b3a39;
  }
  .dark .table-grid tbody tr:hover {
    background-color: #292827;
  }
  .table-grid td {
    @apply px-6 py-3;
    color: #323130;
  }
  .dark .table-grid td {
    color: #f3f2f1;
  }
  .table-grid td.muted {
    color: #605e5c;
  }
  .dark .table-grid td.muted {
    color: #c8c6c4;
  }
  .table-actions {
    @apply flex items-center justify-end gap-2;
  }
  .table-link {
    @apply font-medium hover:underline transition-opacity duration-150;
    color: #0078d4;
  }
  .table-link:hover {
    color: #106ebe;
  }
  .table-link-danger {
    @apply font-medium hover:underline transition-opacity duration-150;
    color: #a4262c;
  }

  /* Alerts */
  .alert-error {
    @apply p-3 text-sm;
    border-radius: 4px;
    border: 1px solid #a4262c;
    background-color: #fde7e9;
    color: #a4262c;
  }
  .dark .alert-error {
    border-color: #c43134;
    background-color: rgba(164, 38, 44, 0.2);
    color: #f48771;
  }
}
